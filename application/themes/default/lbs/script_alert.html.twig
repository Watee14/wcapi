<script type="text/javascript" src="{{base_url()}}assets/plugins/jquery/jquery-3.5.1.min.js"></script>
<script>
	var username = $('#mProfile', window.top.document).find('span.username').html();
	var user_add = document.getElementById('user_add');
	if(user_add != null) { 
		document.getElementById("user_add").value = username;
	}
</script>
<script type="text/javascript" src="{{base_url()}}assets/plugins/bootstrap/js/bootstrap-4.5.0.bundle.min.js"></script>
<script>
	$(function () {
		$('[data-toggle="tooltip"]').tooltip()
	})
</script>
<script type="text/javascript" src="{{base_url()}}assets/plugins/fontawesome-5.13.1/js/all.min.js"></script>
<script type="text/javascript" src="{{base_url()}}assets/plugins/bootstrap4-toggle/js/bootstrap4-toggle.min.js"></script>
<script type="text/javascript" src="{{base_url()}}assets/plugins/sweetalert2/dist/sweetalert2.min.js"></script>
<script type="text/javascript" src="{{base_url()}}assets/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
<script type="text/javascript" src="{{base_url()}}assets/plugins/bootstrap-datepicker/js/locales/bootstrap-datepicker.th.js"></script>
<script>
	var page = window.location.href;
	var search_page = page.search("edit_alert");
	if(search_page == -1){
		$(".datepicker_start").datepicker({
        	language:'th',
        	format:'mm/dd/yyyy',
    	}).on('changeDate', function (selected) {
        	var minDate = new Date(selected.date.valueOf());
        	$('.datepicker_end').datepicker('setStartDate', minDate);
    	});

		$(".datepicker_end").datepicker({
			language:'th',
			format:'mm/dd/yyyy',
		}).on('changeDate', function (selected) {
			var maxDate = new Date(selected.date.valueOf());
			$('.datepicker_start').datepicker('setEndDate', maxDate);
		});
	}else{
		var start_date = $(".datepicker_start").val();
		var end_date = $(".datepicker_end").val();

		$(".datepicker_start").datepicker({
        	language:'th',
        	format:'mm/dd/yyyy',
			endDate: end_date,
    	}).on('changeDate', function (selected) {
        	var minDate = new Date(selected.date.valueOf());
        	$('.datepicker_end').datepicker('setStartDate', minDate);
    	});

		$(".datepicker_end").datepicker({
			language:'th',
			format:'mm/dd/yyyy',
			startDate: end_date,
		}).on('changeDate', function (selected) {
			var maxDate = new Date(selected.date.valueOf());
			$('.datepicker_start').datepicker('setEndDate', maxDate);
		});
	}
</script>
<script type="text/javascript" src="{{base_url()}}assets/plugins/bootstrap-select/dist/js/bootstrap-select.min.js"></script>
<script>
	$('.selectpicker').selectpicker();
</script>
<script type="text/javascript" src="{{base_url()}}assets/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="{{base_url()}}assets/js/dataTables.bootstrap4.min.js"></script>
<script>
	$(document).ready(function() {
		$.extend(true, $.fn.dataTable.defaults, {
			"language": {
					"sProcessing": "กำลังดำเนินการ...",
					"sLengthMenu": "แสดง_MENU_ แถว",
					"sZeroRecords": "ไม่พบข้อมูล",
					"sInfo": "แสดง _START_ ถึง _END_ จาก _TOTAL_ แถว",
					"sInfoEmpty": "แสดง 0 ถึง 0 จาก 0 แถว",
					"sInfoFiltered": "(กรองข้อมูล _MAX_ ทุกแถว)",
					"sInfoPostFix": "",
					"sSearch": "ค้นหา:",
					"sUrl": "",
					"oPaginate": {
									"sFirst": "เิริ่มต้น",
									"sPrevious": "ก่อนหน้า",
									"sNext": "ถัดไป",
									"sLast": "สุดท้าย"
					}
			}
		});

		$('#table_alert').DataTable({
			"columnDefs": [
				{ "width": "13%", "targets": 6 }
			]
		});
		$('#table_polygon').DataTable({
			"columnDefs": [
				{ "width": "13%", "targets": 6 }
			]
		});
	} );
</script>